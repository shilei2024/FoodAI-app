# 项目结构说明

## 项目迁移完成

项目已成功迁移到 `FoodAI` 目录，并按照标准微信小程序项目结构组织。

## 当前项目结构

```
d:\qinshiji\FoodAI\              ← 项目根目录（导入这个！）
├── miniprogram/                  ← 小程序代码
│   ├── pages/                    ← 页面目录
│   │   ├── index/                ← 首页
│   │   ├── history/              ← 历史记录页
│   │   ├── profile/              ← 个人中心页
│   │   └── detail/               ← 详情页
│   ├── components/                ← 组件目录
│   │   ├── food-card/            ← 食物卡片组件
│   │   ├── nutrition-chart/      ← 营养图表组件
│   │   ├── pay-wall/             ← 付费墙组件
│   │   └── image-preview/        ← 图片预览组件
│   ├── utils/                     ← 工具函数
│   │   ├── api.js                ← API请求封装
│   │   ├── image.js              ← 图片处理工具
│   │   └── auth.js               ← 权限验证工具
│   ├── services/                  ← 服务层
│   │   ├── ai-service.js         ← AI服务封装
│   │   ├── pay-service.js        ← 支付服务封装
│   │   ├── payment-adapter.js    ← 支付适配器
│   │   └── recipe-service.js     ← 食谱服务
│   ├── constants/                 ← 常量配置
│   │   └── config.js             ← 配置文件
│   ├── miniprogram_npm/           ← npm构建产物（Vant组件）
│   ├── app.js                     ← 小程序入口
│   ├── app.json                   ← 小程序配置
│   ├── app.wxss                   ← 全局样式
│   ├── sitemap.json               ← 站点地图
│   └── theme.json                 ← 主题配置
├── cloudfunctions/                ← 云函数代码
│   ├── baidu-ai/                 ← 百度AI云函数
│   ├── create-order/             ← 创建订单云函数
│   └── payment-callback/         ← 支付回调云函数
├── scripts/                          ← 数据库初始化脚本
│   └── init-database.js
├── project.config.json            ← 项目配置（已正确配置）
├── project.private.config.json     ← 私有配置
├── package.json                   ← 依赖配置
└── README.md                      ← 项目说明
```

## 配置文件说明

### project.config.json
- `miniprogramRoot`: `"miniprogram/"` ✓
- `cloudfunctionRoot`: `"cloudfunctions/"` ✓
- `appid`: `wx38dee0ea03214271`
- `projectname`: `"AI轻食记"`

### app.json
- 已配置 Vant Weapp 组件库
- 已启用云开发能力
- 已配置页面路径
- 已移除不存在的组件引用（van-image, van-uploader, van-grid, van-empty）

## 已修复的问题

1. ✅ 项目结构已迁移到 FoodAI 目录
2. ✅ miniprogram_npm 已位于正确位置（miniprogram/miniprogram_npm/）
3. ✅ 所有组件路径已统一为 `vant-weapp`
4. ✅ 不存在的组件已移除或替换
5. ✅ 所有配置文件已更新

## 导入项目步骤

1. 打开微信开发者工具
2. 点击"导入项目"
3. **选择目录**: `d:\qinshiji\FoodAI\`
4. **AppID**: `wx38dee0ea03214271`
5. **项目名称**: AI轻食记
6. 点击"导入"

## 注意事项

- ✅ 必须导入 `FoodAI` 目录，不是 `FoodAI/miniprogram` 目录
- ✅ miniprogram_npm 已在正确位置，无需移动
- ✅ 所有组件配置已修复，应可正常编译

## 下一步操作

1. 在微信开发者工具中导入项目
2. 配置云开发环境
3. 部署云函数
4. 配置百度AI密钥
5. 编译运行


